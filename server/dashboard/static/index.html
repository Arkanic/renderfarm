<!DOCTYPE html>
<html>
    <head>
        <title>Renderfarm Dashboard</title>
        <link type="text/css" rel="stylesheet" href="./global.css"/>
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    </head>
    <body>
        <div class="topnav">
            <a class="active" id="nav-home">Home</a>
            <a id="nav-workers">Workers</a>
            <a id="nav-upload">Upload</a>
            <a id="nav-settings">Settings</a>
        </div>
        <div class="content" id="content">
            <div class="subcontent" id="box-home">
                <div id="projects-list"></div>
            </div>
            <div class="subcontent hidden" id="box-workers">
                <div id="workers-list"></div>
            </div>
            <div class="subcontent hidden" id="box-upload">
                <form ref="uploadform" id="uploadform" method="post" action="#" enctype="multipart/form-data">
                    <div id="upload-upload-box">
                        <label for="upload-file">File Upload (.zip of blend file and assets): </label>
                        <input type="file" name="upload-file" id="upload-file" accept="application/zip"/>
                        <br>
                        <input type="button" id="upload-upload-submit" value="Next"/>
                        <br>
                        <p>Make sure to have the blender file set to relative paths (File > External Data > Make All Paths Relative).</p>
                        <p>All fluid cache, external images, etc should be included in the zip file as well.</p>
                    </div>
                    <div id="upload-loading-box" class="hidden">
                        <p>Loading...</p>
                        <br>
                        <img src="loading.gif"/>
                    </div>
                    <div id="upload-config-box" class="hidden">
                        <label for="upload-blendfile">Blender file to be rendered: </label>
                        <select name="upload-blendfile" id="upload-blendfile"></select>
                        <br>
                        <label for="upload-title">Title: </label>
                        <input type="text" name="upload-title" id="upload-title"></input>
                        <br>
                        <label for="upload-animation">Animation: </label>
                        <input type="checkbox" name="upload-animation" id="upload-animation"/>
                        <br>
                        <label for="upload-framestart" id="upload-framestart-label">Frame to render: </label>
                        <input type="number" name="upload-framestart" id="upload-framestart" value="1"/>
                        <br>
                        <label for="upload-frameend" id="upload-frameend-label" class="hidden">End frame of animation: </label>
                        <input type="number" name="upload-frameend" id="upload-frameend" class="hidden"/>
                        <br>
                        <label for="upload-cutinto">Split image into x by x chunks: </label>
                        <input type="number" name="upload-cutinto" id="upload-cutinto" value="2" max="8"/>
                        <br>
                        <p>2 Is the recommended split chunks level (this will turn every image into 4 quarters to be rendered)</p>
                        <p>Having this set too high can actually increase the time taken to render because of all the initialization needed to be done before the start of the render.</p>
                        <input type="button" id="upload-config-submit" value="Submit"/>
                    </div>
                </form>
                <div id="upload-uploading-box" class="hidden">
                    <p id="upload-progress-message">Uploading...</p>
                    <br>
                    <progress id="upload-progress" value="0" max="100"></progress>
                </div>
            </div>
            <div class="subcontent hidden" id="box-settings">
                <div id="settings-main-box">
                    <p><a href="#" id="settings-blenderupload-start">Upload new blender.tar.xz</a></p>
                </div>
                <div id="settings-blenderupload-box" class="hidden">
                    <form ref="blenderupload-form" id="settings-blenderupload-form" method="post" action="#" enctype="multipart/form-data">
                        <label for="settings-blenderfile">Blender.tar.xz (from blender.org): </label>
                        <input type="file" id="settings-blenderfile" name="settings-blenderfile" accept=".tar.xz"/>
                        <br>
                        <p>Make sure the binary is the same architecture as the worker nodes</p>
                        <input type="button" id="settings-blenderupload-submit" value="Submit"/>
                    </form>
                </div>
                <div id="settings-uploading-box" class="hidden">
                    <p id="settings-uploading-progress-message">Uploading...</p>
                    <br>
                    <progress id="settings-uploading-progress" value="0" max="100"></progress>
                </div>
            </div>
        </div>
        <script src="./dashboard.js"></script>
    </body>
</html>